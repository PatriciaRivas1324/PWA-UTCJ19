<!-- 
  El <ion-split-pane> sigue siendo el contenedor principal.
  El ID "main-content" enlaza el menú con el contenido.
-->
<ion-split-pane contentId="main-content" [when]="false">

  <!-- 
    Contenido Principal 
    Lo ponemos ANTES que el menú en el DOM.
  -->
  <div class="ion-page" id="main-content">
    <ion-header>
      <ion-toolbar color="primary">
        <!-- 
          El ion-menu-button sabe automáticamente 
          en qué lado está el menú (ahora 'end').
        -->
        <ion-buttons slot="end">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Módulo 1</ion-title>

        <!-- Icono de usuario en la barra superior -->
        <ion-buttons slot="start">
          <ion-chip class="user-chip">
            <ion-avatar>
              <ion-icon name="person-circle" class="user-avatar"></ion-icon>
            </ion-avatar>
            <ion-label>Usuario</ion-label>
          </ion-chip>
        </ion-buttons>

      </ion-toolbar>
    </ion-header>

    <ion-content>
      <!-- Formas animadas del fondo (de tu SASS) -->
      <div class="background-shapes">
        <div class="shape shape1"></div>
        <div class="shape shape2"></div>
        <div class="shape shape3"></div>
      </div>
      
      <!-- Contenido principal que aparece con animación -->
      <div class="content-wrapper">
        <h1>Bienvenido al Módulo 1</h1>
        <p>Este contenido tiene una animación de entrada y un fondo dinámico.</p>
        
        <ion-card>
          <ion-card-header>
            <ion-card-title>Tarjeta de Ejemplo</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            Aquí puedes empezar a construir tu módulo.
          </ion-card-content>
        </ion-card>
      </div>

    </ion-content>
  </div>

  <!-- 
    Menú Lateral (Derecha)
    Lo ponemos DESPUÉS del contenido y añadimos 'side="end"'.
  -->
  <ion-menu contentId="main-content" type="reveal" side="end">
    <ion-header>
      <ion-toolbar color="light-shade">
        <ion-title>Menú Principal</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item button lines="full">
          <ion-icon name="person-circle-outline" slot="start"></ion-icon>
          <ion-label>Menú del usuario</ion-label>
        </ion-item>

        <ion-item-divider></ion-item-divider>

        <!-- Marcamos el Módulo 1 como activo -->
        <ion-item button lines="full" class="menu-item-active">
          <ion-icon name="cube-outline" slot="start"></ion-icon>
          <ion-label>Módulo 1</ion-label>
        </ion-item>
        <ion-item button lines="full">
          <ion-icon name="cube-outline" slot="start"></ion-icon>
          <ion-label>Módulo 2</ion-label>
        </ion-item>
        <ion-item button lines="full">
          <ion-icon name="cube-outline" slot="start"></ion-icon>
          <ion-label>Módulo 3</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>

    <ion-footer>
        <ion-toolbar color="light-shade">
            <ion-item button lines="none">
                <ion-icon name="settings-outline" slot="start"></ion-icon>
                <ion-label>Configuración</ion-label>
            </ion-item>
        </ion-toolbar>
    </ion-footer>
  </ion-menu>

</ion-split-pane>

